# Task List: Field Uploader (PRD-0001)

**PRD**: `tasks/prds/0001-prd-field-uploader.md`
**Created**: 2025-12-08
**Status**: Phase 1 MVP ì™„ë£Œ, Phase 2 ì§„í–‰ ì¤‘

---

## êµ¬í˜„ í˜„í™© ìš”ì•½

| Phase | ìƒíƒœ | ì™„ë£Œìœ¨ |
|-------|------|--------|
| Phase 0: ìš”êµ¬ì‚¬í•­ | âœ… ì™„ë£Œ | 100% |
| Phase 1: MVP | âœ… ì™„ë£Œ | 100% |
| Phase 2: PWA + ì¸ì¦ | ğŸ”„ ì§„í–‰ ì¤‘ | 73% |
| Phase 3: ì•ˆì •í™” | â³ ëŒ€ê¸° | 33% |
| Phase 4: ë°°í¬ | â³ ëŒ€ê¸° | 0% |

---

## Phase 0: ìš”êµ¬ì‚¬í•­

### Task 0.1: PRD ì‘ì„±
- [x] PRD ë¬¸ì„œ ì‘ì„±
- [x] í•µì‹¬ ê¸°ëŠ¥ ì •ì˜
- [x] ê¸°ìˆ  ìŠ¤íƒ ê²°ì •
- [x] ë°ì´í„° ëª¨ë¸ ì„¤ê³„

### Task 0.2: í”„ë¡œì íŠ¸ ì„¤ì •
- [x] Vite í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- [x] ì˜ì¡´ì„± ì„¤ì¹˜ (Dexie, browser-image-compression)
- [x] PWA í”ŒëŸ¬ê·¸ì¸ ì„¤ì •
- [x] Playwright E2E ì„¤ì •

---

## Phase 1: MVP êµ¬í˜„

### Task 1.1: ì¹´ë©”ë¼ ì´¬ì˜ (P0)
- [x] File input ê¸°ë°˜ ì¹´ë©”ë¼ ìº¡ì²˜ (`src/camera.js`)
- [x] `capture="environment"` í›„ë©´ ì¹´ë©”ë¼ ê¸°ë³¸
- [x] ì´¬ì˜ ë²„íŠ¼ UI (`#capture-btn`)

### Task 1.2: ì´ë¯¸ì§€ ì••ì¶• (P0)
- [x] browser-image-compression í†µí•© (`src/compress.js`)
- [x] 500KB ì´í•˜ ì••ì¶• (maxSizeMB: 0.5)
- [x] Web Worker ì‚¬ìš© (useWebWorker: true)
- [x] ì¸ë„¤ì¼ ìƒì„± (200px, 50KB)

### Task 1.3: IndexedDB í (P1)
- [x] Dexie.js ìŠ¤í‚¤ë§ˆ ì •ì˜ (`src/db.js`)
- [x] upload_queue í…Œì´ë¸” êµ¬í˜„
- [x] settings í…Œì´ë¸” êµ¬í˜„

### Task 1.4: ì„œë²„ ì—…ë¡œë“œ (P0)
- [x] SyncManager í´ë˜ìŠ¤ (`src/sync.js`)
- [x] PocketBase API ì—°ë™
- [x] ì˜¤í”„ë¼ì¸ íì‰ ë¡œì§
- [x] ì˜¨ë¼ì¸ ë³µê·€ ì‹œ ìë™ ë™ê¸°í™”
- [x] ì¬ì‹œë„ ë¡œì§ (retry_count)

### Task 1.5: ê¸°ë³¸ UI (P0)
- [x] ë‹¤í¬ í…Œë§ˆ ìŠ¤íƒ€ì¼ (`src/style.css`)
- [x] ì´¬ì˜ ë²„íŠ¼, ë¯¸ë¦¬ë³´ê¸°, ì œëª© ì…ë ¥
- [x] í ìƒíƒœ í‘œì‹œ (pending/uploading/completed/failed)
- [x] ìµœê·¼ ì—…ë¡œë“œ ëª©ë¡

---

## Phase 2: PWA + ì¸ì¦

### Task 2.1: Service Worker
- [x] vite-plugin-pwa ì„¤ì • (`vite.config.js`)
- [x] Workbox ëŸ°íƒ€ì„ ìºì‹± (Google Fonts)
- [ ] ì•± ì…¸ í”„ë¦¬ìºì‹± ê²€ì¦
- [ ] ì˜¤í”„ë¼ì¸ í´ë°± í˜ì´ì§€

### Task 2.2: PWA Manifest
- [x] manifest ì„¤ì • (name, icons, theme_color)
- [x] standalone ë””ìŠ¤í”Œë ˆì´ ëª¨ë“œ
- [x] PWA ì•„ì´ì½˜ ìƒì„± (192x192, 512x512)
  - `scripts/generate-icons.js` - ì•„ì´ì½˜ ìƒì„± ìŠ¤í¬ë¦½íŠ¸
  - `public/icons/icon-192.png` (7.7 KB)
  - `public/icons/icon-512.png` (24.7 KB)
  - E2E í…ŒìŠ¤íŠ¸ ì¶”ê°€ ì™„ë£Œ

### Task 2.3: PWA ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸
- [ ] beforeinstallprompt ì´ë²¤íŠ¸ ì²˜ë¦¬
- [ ] "í™ˆ í™”ë©´ì— ì¶”ê°€" ì•ˆë‚´ UI
- [ ] ì„¤ì¹˜ ì™„ë£Œ ê°ì§€

### Task 2.4: SSO/OAuth ì¸ì¦
- [ ] PocketBase OAuth ì„¤ì •
- [ ] ë¡œê·¸ì¸ UI ì¶”ê°€
- [ ] í† í° ì €ì¥ (IndexedDB settings)
- [ ] API ìš”ì²­ ì‹œ ì¸ì¦ í—¤ë” ì¶”ê°€
- **Priority**: Phase 2 ì´í›„ (í˜„ì¬ ì¸ì¦ ì—†ì´ ë™ì‘)

---

## Phase 3: ì•ˆì •í™”

### Task 3.1: E2E í…ŒìŠ¤íŠ¸ ë³´ê°•
- [x] ê¸°ë³¸ UI í…ŒìŠ¤íŠ¸ (`tests/upload.spec.js`)
- [x] ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [x] PWA manifest í…ŒìŠ¤íŠ¸
- [ ] ì´ë¯¸ì§€ ì—…ë¡œë“œ í”Œë¡œìš° E2E í…ŒìŠ¤íŠ¸
  - Mock íŒŒì¼ ì—…ë¡œë“œ
  - Mock PocketBase ì‘ë‹µ
- [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
  - ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨
  - ì••ì¶• ì‹¤íŒ¨

### Task 3.2: ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ 
- [x] ê¸°ë³¸ try-catch ì²˜ë¦¬
- [ ] ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€
- [ ] ì‹¤íŒ¨í•œ ì—…ë¡œë“œ ìˆ˜ë™ ì¬ì‹œë„ ë²„íŠ¼
- [ ] ì—ëŸ¬ ë¡œê¹… (ì„ íƒ)

### Task 3.3: ì„±ëŠ¥ ìµœì í™”
- [x] Web Worker ì´ë¯¸ì§€ ì••ì¶•
- [ ] ë²ˆë“¤ í¬ê¸° ë¶„ì„ (< 200KB ëª©í‘œ)
- [ ] ì´ë¯¸ì§€ lazy loading
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™” (Base64 ëŒ€ì‹  Blob URL ê²€í† )

---

## Phase 4: ë°°í¬

### Task 4.1: í”„ë¡œë•ì…˜ ë¹Œë“œ
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env.production)
  ```env
  VITE_POCKETBASE_URL=https://your-api-domain.com
  ```
- [ ] ë¹Œë“œ í…ŒìŠ¤íŠ¸ (`npm run build`)
- [ ] dist ì¶œë ¥ ê²€ì¦

### Task 4.2: ì„œë²„ ë°°í¬
- [ ] ì •ì  í˜¸ìŠ¤íŒ… ì„ íƒ (Vercel/Netlify/S3)
- [ ] HTTPS ì„¤ì • (PWA í•„ìˆ˜)
- [ ] PocketBase ì„œë²„ ë°°í¬
- [ ] CORS ì„¤ì • í™•ì¸

### Task 4.3: ì‚¬ìš©ì êµìœ¡
- [ ] ì‚¬ìš©ì ê°€ì´ë“œ ì‘ì„±
- [ ] PWA ì„¤ì¹˜ ë°©ë²• ì•ˆë‚´
- [ ] ì˜¤í”„ë¼ì¸ ì‚¬ìš© ì•ˆë‚´

---

## ìš°ì„ ìˆœìœ„ë³„ íƒœìŠ¤í¬

### ì¦‰ì‹œ í•„ìš” (P0)
| Task | ìƒíƒœ | ì„¤ëª… |
|------|------|------|
| ~~2.2 PWA ì•„ì´ì½˜~~ | âœ… | ì™„ë£Œ (2025-12-08) |

### ì¤‘ìš” (P1)
| Task | ìƒíƒœ | ì„¤ëª… |
|------|------|------|
| 2.1 ì˜¤í”„ë¼ì¸ í´ë°± | â³ | ì˜¤í”„ë¼ì¸ ì‹œ ë³´ì—¬ì¤„ í˜ì´ì§€ |
| 2.3 ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ | â³ | ì‚¬ìš©ì ì„¤ì¹˜ ìœ ë„ |
| 3.1 E2E í…ŒìŠ¤íŠ¸ ë³´ê°• | â³ | ì—…ë¡œë“œ í”Œë¡œìš° í…ŒìŠ¤íŠ¸ |

### í–¥í›„ (P2)
| Task | ìƒíƒœ | ì„¤ëª… |
|------|------|------|
| 2.4 SSO/OAuth | â³ | íšŒì‚¬ ì‹œìŠ¤í…œ ì—°ë™ |
| 3.2 ì—ëŸ¬ ì²˜ë¦¬ ê°œì„  | â³ | UX í–¥ìƒ |
| 4.x ë°°í¬ | â³ | í”„ë¡œë•ì…˜ ë¦´ë¦¬ìŠ¤ |

---

## Next Steps

1. **ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ êµ¬í˜„** (Task 2.3) - P1
   - beforeinstallprompt ì´ë²¤íŠ¸ ì²˜ë¦¬
   - ì„¤ì¹˜ ë²„íŠ¼ UI ì¶”ê°€

2. **ì˜¤í”„ë¼ì¸ í´ë°± í˜ì´ì§€** (Task 2.1) - P1
   - Service Worker ì˜¤í”„ë¼ì¸ ì²˜ë¦¬

3. **E2E í…ŒìŠ¤íŠ¸ ë³´ê°•** (Task 3.1) - P1
   - ì´ë¯¸ì§€ ì—…ë¡œë“œ ëª¨í‚¹
   - ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

---

## ê´€ë ¨ ë¬¸ì„œ

- [PRD](./prds/0001-prd-field-uploader.md)
- [README](../README.md)
- [CLAUDE.md](../CLAUDE.md)
